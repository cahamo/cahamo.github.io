---
layout: default
redirect_from:
- /diorama
- /diorama/index
title: "Model diorama automation and lightning electronics project"
---
<h1>Diorama Project</h1>

<h2>Introduction</h2>

<p>This is a project to design and build the electronics needed to control various lighting and mechanical features of a diorama that I am building.</p>

<p>The <a href="./legacy-plan">original plan</a> was to turn each feature on and off using simple mechanical switches, but I decided it would be more fun to use an infra-red handset to control everything.</p>

<p class="alert alert-info">Details of the construction of the diorama itself are off topic for this website and will only be discussed in as much as they are relevant to the electronics.</p>

<h2>Project Brief</h2>

<p>There will be several buildings that are to be lit. Some buildings will also contain fireplaces etc where flames should be simulated. Some mechanical gimmicks are also planned that will be powered by low voltage electric motors. The diorama itself may also be lit by means of concealed LEDs to simulate day and night conditions.</p>

<p>The brief is therefore to control the lights and motorised items by electronic means, using one or more microcontrollers. Support should be added to enable operation via an infra-red remote control. In addition, a program to control a fixed sequence of events could also be provided.</p>

<h2>Sub-projects</h2>

<p>The project falls neatly into 6 sub-projects, some of which are detailed on separate pages:</p>

<div class="list-group mb-3">

    <a href="./ir-control" class="list-group-item list-group-item-action flex-column align-items-start">
        <h3 class="mb-2">Infra-red control</h3>
        <p class="mb-2">The diorama is to be controlled using an infra-red handset that communicates with an infra-red receiver on the front of the layout.</p>
        <p class="mb-2"><span class="badge badge-warning">In&nbsp;progress</span></p>
    </a>

    <a href="./lighting" class="list-group-item list-group-item-action flex-column align-items-start">
        <h3 class="mb-2">Model lighting</h3>
        <p class="mb-2">All lighting on the model is contained within buildings and uses LEDs.</p>
        <p class="mb-2"><span class="badge badge-warning">In&nbsp;progress</span></p>
    </a>

    <div class="list-group-item flex-column align-items-start">
        <h3 class="mb-2">Mechanical features</h3>
        <p class="mb-2">Mechanical features must be able to be switched on or off individually. In addition there should be a master &ldquo;all off&rdquo; (panic) command. Each feature must be allowed to run to completion before being started again. Features being considered are:</p>
        <ol class="mb-2">
            <li>A dog with a wagging tail.</li>
            <li>A rabbit popping in and out of a burrow.</li>
            <li>A dog chasing a squirrel or rabbit.</li>
        </ol>
        <p class="mb-2">Some features have <em>on</em> and <em>off</em> states while others don&lsquo;t have such a state. For example the dog is either wagging its tail or not and the rabbits are either in or out of their burrows. But the dog chasing a squirrel is a feature that must be started and left to run to completion: there is no point in turning it off part way.</p>
        <p class="mb-2"><span class="badge badge-danger">Not&nbsp;started</span> <small><em>No further information.</em></small></p>
    </div>

    <div class="list-group-item flex-column align-items-start">
        <h3 class="mb-2">Ambient lighting</h3>
        <p class="mb-2">Ambient lighting is to be used to emulate different times of day. The lights should be hidden out of view above the diorama. Lighting should be dimmable in discrete steps from full (bright daylight) to off (night).</p>
        <p class="mb-2"><span class="badge badge-danger">Not&nbsp;started</span> <small><em>No further information.</em></small></p>
    </div>

    <a href="./controller" class="list-group-item list-group-item-action flex-column align-items-start">
        <h3 class="mb-2">Central control</h3>
        <p class="mb-2">This sub-project is the &ldquo;brain&rdquo; of the diorama's control system. It must respond to commands from the infra-red control sub-system to control the model lighting, mechanical features and ambient lighting. It may also manage automated events by means of pre-programmed sequences.</p>
        <p class="mb-2"><span class="badge badge-warning">In&nbsp;progress</span></p>
    </a>

    <a href="./power-supply" class="list-group-item list-group-item-action flex-column align-items-start">
        <h3 class="mb-2">Power supply</h3>
        <p class="mb-2">Power is provided by a 9V DC supply, with 7.8V and 5V taps available to power other sub-systems. The power supply module requires an external 9V transformer delivering power via a 2.1mm &times; 5.5mm socket. Both centre +ve and centre -ve plugs are supported.</p>
        <p class="mb-2"><span class="badge badge-success">Completed</span></p>
    </a>

</div>


<h2 id="experiments">Experiments</h2>

<p>The following experiments have been carried out:</p>

<div class="list-group mb-3">
    <a href="./experiment-1" class="list-group-item list-group-item-action flex-column align-items-start">
        <h3 class="mb-1">#1: Infra-red remote controller</h3>
        <p class="mb-1">Tests the code and circuit needed to interpret the encoded infra-red signals sent by the remote control.</p>
    </a>
    <a href="./experiment-2" class="list-group-item list-group-item-action flex-column align-items-start">
        <h3 class="mb-1">#2: Power supply</h3>
        <p class="mb-1">Test circuit used to prove the power supply design.</p>
    </a>
    <a href="./experiment-3" class="list-group-item list-group-item-action flex-column align-items-start">
        <h3 class="mb-1">#3: Optimum Microcontroller LED control</h3>
        <p class="mb-1">Tests to determine the optimum way to drive the numerous LEDs used to light the diorama whilst using the minimum number of microcontroller pins.</p>
    </a>
    <a href="./experiment-4" class="list-group-item list-group-item-action flex-column align-items-start">
        <h3 class="mb-1">#4: Inter-Microcontroller Serial Communication</h3>
        <p class="mb-1">Investigates the feasibility of using serial communication to send data from one microcontroller to another.</p>
    </a>
    <a href="./experiment-5" class="list-group-item list-group-item-action flex-column align-items-start">
        <h3 class="mb-1">#5: Inter-Microcontroller I&sup2;C Communication</h3>
        <p class="mb-1">Investigates the feasibility of using I&sup2;C to send data from one microcontroller to another.</p>
    </a>
    <a href="./experiment-6" class="list-group-item list-group-item-action flex-column align-items-start">
        <h3 class="mb-1">#6: Infra-red receiver feedback RGB LED colour balance</h3>
        <p class="mb-1">Determines the values of resistors required to balance the red, green and blue elements of the RGB LED used to provide user feedback in the infra-red receiver unit.</p>
    </a>

</div>
