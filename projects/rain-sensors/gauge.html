---
layout: default
title: "Rain measurement gauge sensor unit and circuit"
---

<h1>Rain Sensors: Gauge <span class="badge badge-warning">In&nbsp;progress</span></h1>

<section id="Purpose">

    <h2>Purpose</h2>

    <p>The purpose of the project is to measure and record rainfall.</p>

    <p>The project requirements are:</p>

    <ol>
        <li>To measure rainfall each day</li>
        <li>To display rainfall to so far each day on a screen</li>
        <li>To record each day's rainfall in a file on removable storage in a format suitable for importing into a spreadsheet</li>
    </ol>

</section>

<section id="design">

    <h2>Design</h2>

    <aside>
        <p class="alert alert-info">This project is closely based on the <a href="https://www.explainingcomputers.com/pi_pico_rain_gauge.html">Raspberry Pi Pico Rain Gauge</a> project by Christopher Barnett.</p>
    </aside>

    <h3>Design Overview</h3>

    <p>This project comprises a 3D printed rain gauge coupled to a microcontroller, storage and display.</p>

    <p>The gauge collects rain and funnels it down into a pivoted bucket assembly with an attached magnet as illustrated below:</p>

    <figure id="fig-1">
        <p><img class="img-fluid mx-auto d-block" src="/assets/img/projects/rain-sensors/gauge/rain-sensors--gauge--bucket-model-render_400x263.png" width="400" height="263" alt="Rain gauge bucket illustration"></p>
        <figcaption class="text-center">Figure 1</figcaption>
    </figure>

    <p>The assembly is pivoted about its centre point. The mechanism starts off angled so that one bucket is higher than the other. Rain coming in from above fills the raised bucket. When sufficient rain has gathered in the bucket it pivots and empties its contents, bringing the other bucket up under the water flow. The process then repeats.</p>

    <p>Each time the assembly pivots the magnet moves past a reed switch causing a pulse to be emitted that can be be processed by a microcontroller.</p>

    <h3>Rain Gauge Assembly</h3>

    <p>The rain gauge assembly is designed to capture and funnel rain water onto the bucket assembly noted above. The 3D components of the rain gauge assembly are:</p>

    <ol>
        <li>Funnel <sup>&dagger;</sup></li>
        <li>Bucket assembly / magnet holder <sup>&Dagger;</sup></li>
        <li>Bucket assembly pivot unit / reed switch holder <sup>&dagger;</sup></li>
        <li>Two caps to hold the pivot axle in place <sup>&sect;</sup></li>
        <li>A box that contains and protects the pivoting bucket assembly <sup>&Dagger;</sup></li>
        <li>Bracket that holds the pivot unit inside the main box <sup>&sect;</sup></li>
        <li>Mounting brackets that attach to the main unit to fasten it to a wooden baseboard <sup>&Dagger;</sup></li>
    </ol>

    <div class="alert alert-info small">
        <p class="mb-1"><strong>Key:</strong></p>
        <p class="mb-1 ml-3"><sup>&dagger;</sup> Original design by Christopher Barnett</p>
        <p class="mb-1 ml-3"><sup>&Dagger;</sup> Original design by Christopher Barnett, modified by cahamo</p>
        <p class="mb-1 ml-3"><sup>&sect;</sup> Original design by cahamo</p>
    </div>

    <p>The following image shows a rendering of all the 3D printed parts, as designed. Each part is labelled with a number that correspondes to the parts listed above.</p>

    <figure id="fig-1">
        <p><img class="img-fluid mx-auto d-block" src="/assets/img/projects/rain-sensors/gauge/rain-sensors--gauge--all-components-render_600x518.png" width="600" height="512" alt="Renders of all 3D print component STL files."></p>
        <figcaption class="text-center">Figure 2</figcaption>
    </figure>

    <h4>STL files</h4>

    <p>STL files that can be sliced to produce the 3D printed components can be downloaded from the <a href="https://github.com/cahamo/rain-sensors"><code>cahamo/rain-sensors</code></a> repository on GitHub.</p>

    <p>All files are made available under the <a href="https://creativecommons.org/licenses/by-sa/4.0/"> Creative Commons - Attribution - Share Alike</a> license v4.0. Files originally created by Christopher Barnett are copyright &copy; 2024 <a href="https://www.explainingcomputers.com/">Christopher Barnett</a> (the license has been updated from Creative Commons - Attribution - Share Alike license v3.0 to v4.0). Files created by <em>cahamo</em> are copyright &copy; 2024, <a href="https://gravatar.com/delphidabbler">Peter Johnson</a>.</p>

    <h3>Microcontroller</h3>

    <p>The pulses emitted from the gauge are counted by a microcontroller which calculates the amount rain that must have fallen to trigger each pulse. The total rainfall is displayed on a screen and recorded in memory. Periodically the data is stored on an SD card.</p>

    <p>The microcontroller program must be calibrated before use. The amount of rain captured by the funnel and the volume of water needed to tip the pivoted buckets is required to do this. The catchment area of the funnel can be measured. The amount of water that is required to tip the bucket assembly must be arrived at by experiment.</p>

</section>

<section id="construction">

    <h2>Construction</h2>

    <p>The 3D printed parts described above were printed on a Bambu Labs A1 3D printer using Amazon Basics orange PLA. The following montage shows all the printed parts. The parts are not to scale relative to each other:</p>
    
    <figure id="fig-3">
        <p><img class="img-fluid mx-auto d-block" src="/assets/img/projects/rain-sensors/gauge/rain-sensors--gauge--printed-parts_800x530.png" width="800" height="530" alt="All the rain gauge 3D printed parts"></p>
        <figcaption class="text-center">Figure 3</figcaption>
    </figure>

    <p>Additional components are also required. They are:</p>

    <ol start="1">
        <li>Neodymium magnet: 10mm dia &times; 3mm deep</li>
        <li>5cm of 2mm dia circular mild steel rod (stainless steel would be better)</li>
        <li>Reed switch: normally open, plastic body, 2.7 square section &times; 14mm long</li>
        <li>Nuts:
            <ul>
                <li>2 &times; M3</li>
                <li>2 &times; M5</li>
            </ul>
        </li>
        <li>Bolts:
            <ul>
                <li>2 &times; M3 10mm hex head (any other head type is suitable)</li>
                <li>2 &times; M5 12mm hex head (any other head type is suitable)</li>
            </ul>
        </li>
        <li>Washers:
            <ul>
                <li>2 &times; M2</li>
                <li>1 &times; M3</li>
            </ul>
        </li>
    </ol>

    <aside>
        <p class="alert alert-danger">The above list of components is incomplete and will be extended as progress is made.</p>
    </aside>

    <p>Some components of the rain gauge have been assembled to date:</p>

    <ul>
        <li>A pair of M2 washers have been superglued into the recesses around the axle holes in the bucket assembly <sup>[2]</sup> to help space the assembly from the pivot unit <sup>[3]</sup>.</li>
        <li>A 5cm long piece of 2mm dia steel rod has been cut to use as the bucket pivot axle. The ends of the rod were filed smooth.</li>
        <li>The neodymium magnet has been inserted into the magnet holder on the bucket assembly <sup>[2]</sup> and secured with superglue.</li>
        <li>The bucket assembly pivot unit <sup>[3]</sup> has been bolted to the pivot unit bracket <sup>[6]</sup> using two pairs of M3 nuts and 10mm hex head M3 bolts. The printed holes were a little oversize for the bolts.</li>
        <li>The rain funnel <sup>[1]</sup> was bolted to the main box <sup>[5]</sup> using two pairs of M5 nuts and and 12mm hex head M5 bolts. Because of tight clearances under the funnel the bolts were inserted from iside the main box and nuts were added on top, under the funnel.</li>
    </ul>

    <p class="alert alert-info small"><strong>Key:</strong> Superscript numbers in brackets refer to the number of the 3D printed part as shown in figure 2.</p>

    <p class="alert alert-warning">That is as far as things had progressed as at 2024-12-29.</p>

    <!--

    PROGRESS NOTES
    --------------
    
    Used one M3 washer as spacer for bucket pivot.
    -->

</section>

<p class="text-center"><b><a href="./">Back to main project page</a></b></p>
